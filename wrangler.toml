name = "awaazfm-analytic"
main = "src/index.ts"
compatibility_date = "2024-02-02"

[[durable_objects.bindings]]
name = "ANALYTICS_SESSION"
class_name = "AnalyticsSession"

[[durable_objects.bindings]]
name = "REGISTRY"
class_name = "Registry"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["AnalyticsSession", "Registry"]

[vars]
# MAIN SHARD (Control Plane)
MAIN_SHARD_URL = "https://awaaz-anl-default-rtdb.asia-southeast1.firebasedatabase.app"

# DATA SHARDS (Single line JSON to prevent parsing errors)
SHARD_CONFIG = '["https://comstorytv-default-rtdb.firebaseio.com", "https://awaaz-fm-default-rtdb.firebaseio.com"]'

TOTAL_SHARDS = "10"